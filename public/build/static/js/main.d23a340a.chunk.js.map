{"version":3,"sources":["components/Queue/QueueComponent.module.css","components/PanelUsers/PanelUsers.module.css","helpers/Provider/index.js","store/selectors/auth.js","routeHandlers/PrivateRoute.js","helpers/constants.js","reducer/auth.js","store/helpers.js","reducer/sip.js","reducer/queue.js","reducer/channels.js","reducer/user.js","reducer/index.js","helpers/common.js","AC/channels.js","AC/sip.js","AC/queue.js","middlewares/socketMiddleware.js","store/index.js","middlewares/api.js","store/selectors/_helper.js","store/selectors/queue.js","components/Header/index.js","AC/auth.js","components/Content/index.js","components/Login/index.js","store/selectors/sip.js","store/selectors/channels.js","components/DurationTimer/DurationTimer.js","components/SipPeerChannels/index.js","components/SipPeer/index.js","components/PanelTrunk/index.js","components/PanelSip/index.js","components/SipToolbar/index.js","components/Dashboard/index.js","components/QueueEntry/QueueEntries.js","components/QueueEntry/QueueEntryContainer.js","components/Queue/QueueMembers.js","components/Queue/QueueMembersContainer.js","components/Queue/QueueComponent.js","components/PanelQueues/index.js","store/selectors/user.js","components/PanelUsers/index.js","AC/user.js","components/User/index.js","routeHandlers/NotFoundPage.js","routes.js","addFontAwesome.js","serviceWorker.js","index.js","components/SipToolbar/SipToolbar.module.css","components/User/User.module.css"],"names":["module","exports","title","content","Providers","_ref","store","children","react_default","a","createElement","es","getAuthSipState","state","getIn","getAuthIsLoggedInState","getAuthIsLoadingInState","getAuthIsErrorState","getAuthErrorCodeState","getAuthErrorMessageState","connect","isLoggedIn","Component","component","rest","Object","objectWithoutProperties","react_router","assign","render","props","to","pathname","from","location","API_URL","START","SUCCESS","FAIL","RESET_ERROR","AUTH_USER","LOG_OUT","LOAD_USERS","LOAD_USER","POST_USER","PATCH_USER","DELETE_USER","LOAD_ALL_SIPS","CHANGE_SIP_STATUS","SIP_SELECT","SIP_FILTER","SIP_FILTER_ONLINE","SIP_FILTER_ALL","SIP_SPY","BRIDGE_STOP","LOAD_ALL_CHANNELS","NEW_CHANNEL","REMOVE_CHANNEL","LOAD_ALL_QUEUES","QUEUE_JOIN","QUEUE_LEAVE","QUEUE_MEMBER_STATUS","SIP_STATUS_IN_USE","SIP_STATUS_RINGING","CHANNEL_STATUS_OUT_RINGING","CHANNEL_STATUS_UP","localStorageToken","localStorage","getItem","localStorageSip","defaultState","Map","isError","token","sip","isLoading","expires","errorMessage","errorCode","arrayToMap","arr","mapper","arguments","length","undefined","f","reduce","acc","entity","set","id","SipModel","Record","login","online","isTrunk","status","SipSimpleModel","entities","OrderedMap","entitiesSimple","isLoaded","selectedSip","filter","sipSpy","message","QueueParamsModel","queue","max","strategy","calls","holdtime","talktime","completed","abandoned","servicelevel","servicelevelperf","weight","QueueMemberModel","penalty","callstaken","lastcall","paused","QueueEntryModel","position","channel","calleridnum","calleridname","connectedlinenum","connectedlinename","wait","date","uniqueid","ChannelModel","duration","UserModel","_id","firstName","lastName","role","username","errorField","submitSuccess","shouldRedirect","combineReducers","auth","action","type","response","withMutations","s","user","payload","update","merge","setIn","reason","i","queues","keys","accMain","key","el","params","members","entries","entry","updateIn","item","map","keyValue","deleteIn","data","channels","objectSpread","delete","idKey","arrayToMapCustomKey","fromJS","defineProperty","field","removeIn","paramsForAPI","concat","join","loadChannels","callAPI","needAuth","loadSipPeers","selectSip","getQueues","socket","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","next","methodAPI","options","method","headers","Accept","Content-Type","body","axios","defaults","common","getState","url","then","catch","error","removeItem","emit","enhancer","applyMiddleware","apply","toConsumableArray","initialState","createStore","reducer","wsPort","port","protocol","hostname","io","query","split","on","code","dispatch","changeSipStatus","changeQueueMemberStatus","queueJoin","_ref2","queueLeave","startWS","createImmutableEqualSelector","createSelectorCreator","defaultMemoize","is","getQueuesIsLoadedState","getQueuesIsLoadingState","getQueuesKeysState","getFilteredMembers","getFilteredMembersState","sort","b","getFilteredMembersLengthState","size","getDetail","getDetailState","getQueueEntries","queueId","getQueueEntriesState","getQueueSipPeer","memberOfQueue","getQueueSipPeerState","Header","isOpen","toggle","_this","setState","_this$props","this","isLoadingQueues","isLoadedQueues","_this$props2","logOutUser","isQueuesExist","Navbar","color","dark","expand","NavbarBrand","tag","RRNavLink","NavbarToggler","onClick","Collapse","navbar","Nav","className","NavItem","NavLink","href","PureComponent","withRouter","Content","react_toastify_lib","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","components_Header","Login","password","handleChangeInput","ev","target","getAttribute","value","handleSubmitForm","preventDefault","locationState","_this$state","loginUser","history","push","prevProps","prevState","prevContext","onSubmit","htmlFor","name","placeholder","required","autoFocus","onChange","disabled","path","setItem","getSipIsLoadedState","getSipIsLoadingState","getSipSelectedSipState","getSipSpyIsErrorState","getSipSpyStatusState","getSipSpyMessageState","getSipFilter","getSipFilterState","getSipPeer","getSipPeerState","filters","_filters","getFilteredSips","getFilteredSipsState","getFilteredTrunksState","getChannelsState","get","getChannelsBySip","sipPeer","getChannelsBySipState","enchance","withState","startDate","Date","currentDate","parseInt","withHandlers","handleStartInterval","intervalId","setInterval","setDuration","setIntervalId","handleStopInterval","clearInterval","lifecycle","componentDidMount","isTicking","componentDidUpdate","componentWillUnmount","durationHuman","sec","secNum","hours","Math","floor","minutes","seconds","secToHuman","SipPeerChannel","statusIcon","index_es","icon","DurationTimer_DurationTimer","SipPeerChannels","memo","sipChannels","entrySeq","_ref3","slicedToArray","SipPeerChannels_SipPeerChannel","CardBody","statusStyle","SIP_STATUS_IDLE","SIP_STATUS_BUSY","SIP_STATUS_UNAVAILABLE","SIP_STATUS_ON_HOLD","SipPeer","handleSelectSip","_isSipUp","find","obj","_isSipRinging","sipPeerDetail","isSelected","SipUp","SipRinging","peerStatusClass","additionalClass","Card","CardHeader","components_SipPeerChannels","getSipChannels","PanelTrunk","peers","Col","md","style","marginBottom","components_SipPeer","CardTitle","Row","PanelSip","renderItems","Fragment","SipToolbar","handleToggleOnline","filterSip","handleSpy","spySip","authSIP","handleSpyAndWhisper","_this$props3","sipSpyIsError","toast","sipSpyMessage","spySipResetError","sipSpyStatus","info","_this$props4","queueEntity","isHideFilter","filterStateText","styles","container","ButtonGroup","Button","outline","recipient","whisper","Dashboard","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","components_SipToolbar","components_PanelSip","components_PanelTrunk","QueueEntry","queueEntry","width","margin","QueueEntries","queueEntries","QueueEntryContainer","nextProps","nextState","nextContext","equals","QueueEntry_QueueEntries","getEntries","queueMembers","queueName","enhance","getMembers","queueDetail","QueueMembers","isEmpty","getMembersLength","QueueMembersContainer","QueueEntry_QueueEntryContainer","PanelQueues","isLoadedSip","isLoadingSip","queuesComponent","Queue_QueueComponent","marginTop","getUserIsLoadedState","getUserIsLoadingState","getUserIsErrorState","getUserIsErrorMsgState","getUserErrorFieldState","getUserIsSubmittedState","getUsersState","getUserState","userId","PanelUsers","_handleDeleteUser","confirm","deleteUser","getUsers","react_router_dom","_this2","usersComponent","_renderTableItem","Container","Table","bordered","hover","striped","responsive","_renderTableHeader","User","isSubmitSuccess","isNew","patchUser","postUser","match","getUser","success","label","_ref$type","_ref$isInvalid","isInvalid","attributes","FormGroup","row","Label","for","Input","invalid","FormFeedback","Breadcrumb","BreadcrumbItem","active","Form","User_FormItem","handleOnChange","spin","FormItem","_ref2$type","_ref2$isInvalid","Options","NotFoundPage","routes","Provider","exact","components_Content","routeHandlers_PrivateRoute","library","add","faCircleNotch","faUserSecret","faMicrophone","faPhoneVolume","faPhone","Boolean","rootEl","document","getElementById","ReactDOM","navigator","serviceWorker","ready","registration","unregister","bread-crumbs"],"mappings":"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","file":"static/js/main.d23a340a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"QueueComponent_title__6UfJ4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"PanelUsers_content__3ex8d\"};","import { Provider as ReduxProvider } from 'react-redux';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Providers = ({ store, children }) => <ReduxProvider store={store}>{children}</ReduxProvider>;\r\n\r\nProviders.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  store: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Providers;\r\n","// import { createImmutableEqualSelector } from './_helper';\r\n\r\nexport const getAuthSipState = state => state.getIn(['auth', 'sip']);\r\n\r\nexport const getAuthIsLoggedInState = state => state.getIn(['auth', 'isLoggedIn']);\r\n\r\nexport const getAuthIsLoadingInState = state => state.getIn(['auth', 'isLoading']);\r\n\r\nexport const getAuthIsErrorState = state => state.getIn(['auth', 'isError']);\r\n\r\nexport const getAuthErrorCodeState = state => state.getIn(['auth', 'errorCode']);\r\n\r\nexport const getAuthErrorMessageState = state => state.getIn(['auth', 'errorMessage']);\r\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getAuthIsLoggedInState } from '../store/selectors/auth';\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  const { isLoggedIn } = rest;\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isLoggedIn: getAuthIsLoggedInState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(PrivateRoute);\n","export const API_URL = '/api';\n\nexport const START = '_START';\nexport const SUCCESS = '_SUCCESS';\nexport const FAIL = '_FAIL';\n\nexport const RESET_ERROR = '_RESET_ERROR';\n\n// AUTH\nexport const AUTH_USER = 'AUTH_USER';\nexport const UNAUTH_USER = 'UNAUTH_USER';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const PROTECTED_TEST = 'PROTECTED_TEST';\nexport const LOG_OUT = 'LOG_OUT';\n// USERS\nexport const LOAD_USERS = 'LOAD_USERS';\nexport const LOAD_USER = 'LOAD_USER';\nexport const POST_USER = 'POST_USER';\nexport const ADD_USER = 'ADD_USER';\nexport const PATCH_USER = 'PATCH_USER';\nexport const DELETE_USER = 'DELETE_USER';\nexport const REDIRECT_COMPLETE = 'REDIRECT_COMPLETE';\n\n// SIP\nexport const LOAD_ALL_SIPS = 'LOAD_ALL_SIPS';\nexport const SIP_CHANGE_STATE = 'SIP_CHANGE_STATE';\nexport const CHANGE_SIP_STATUS = 'CHANGE_SIP_STATUS';\nexport const SIP_SELECT = 'SIP_SELECT';\nexport const SIP_FILTER = 'SIP_FILTER';\nexport const SIP_FILTER_ONLINE = 'SIP_FILTER_ONLINE';\nexport const SIP_FILTER_ALL = 'SIP_FILTER_ALL';\n// SIP SPY\nexport const SIP_SPY = 'SIP_SPY';\nexport const SIP_SPY_WHISPER = 'SIP_SPY_WHISPER';\n\n// CHANNELS\nexport const BRIDGE_START = 'BRIDGE_START';\nexport const BRIDGE_STOP = 'BRIDGE_STOP';\nexport const LOAD_ALL_CHANNELS = 'LOAD_ALL_CHANNELS';\nexport const NEW_CHANNEL = 'NEW_CHANNEL';\nexport const REMOVE_CHANNEL = 'REMOVE_CHANNEL';\n// QUEUE\nexport const LOAD_ALL_QUEUES = 'LOAD_ALL_QUEUES';\nexport const QUEUE_JOIN = 'QUEUE_JOIN';\nexport const QUEUE_LEAVE = 'QUEUE_LEAVE';\nexport const QUEUE_MEMBER_STATUS = 'QUEUE_MEMBER_STATUS';\n\n// Asterisk statuses\nexport const SIP_STATUS_IDLE = 'SIP_STATUS_IDLE';\nexport const SIP_STATUS_IN_USE = 'SIP_STATUS_IN_USE';\nexport const SIP_STATUS_BUSY = 'SIP_STATUS_BUSY';\nexport const SIP_STATUS_UNAVAILABLE = 'SIP_STATUS_UNAVAILABLE';\nexport const SIP_STATUS_RINGING = 'SIP_STATUS_RINGING';\nexport const SIP_STATUS_ON_HOLD = 'SIP_STATUS_ON_HOLD';\n\nexport const CHANNEL_STATUS_DOWN_AVAILABLE = 'CHANNEL_STATUS_DOWN_AVAILABLE';\nexport const CHANNEL_STATUS_DOWN_RESERVED = 'CHANNEL_STATUS_DOWN_RESERVED';\nexport const CHANNEL_STATUS_OFF_HOOK = 'CHANNEL_STATUS_OFF_HOOK';\nexport const CHANNEL_STATUS_DIGITS_DIALED = 'CHANNEL_STATUS_DIGITS_DIALED';\nexport const CHANNEL_STATUS_OUT_RINGING = 'CHANNEL_STATUS_OUT_RINGING';\nexport const CHANNEL_STATUS_IN_RINGING = 'CHANNEL_STATUS_IN_RINGING';\nexport const CHANNEL_STATUS_UP = 'CHANNEL_STATUS_UP';\nexport const CHANNEL_STATUS_BUSY = 'CHANNEL_STATUS_BUSY';\n","import { Map } from 'immutable';\nimport { AUTH_USER, SUCCESS, START, FAIL, LOG_OUT } from '../helpers/constants';\n\nconst localStorageToken = localStorage.getItem('token');\nconst localStorageSip = localStorage.getItem('sip');\n\nconst defaultState = new Map({\n  isError: false,\n  token: localStorageToken,\n  sip: localStorageSip,\n  isLoading: false,\n  isLoggedIn: !!localStorageToken,\n  expires: 0,\n  errorMessage: '',\n  errorCode: 100,\n\n  from: '/'\n});\n\nexport default function(state = defaultState, action) {\n  const { type, response } = action;\n\n  switch (type) {\n    case AUTH_USER + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .set('token', response.token)\n          .set('sip', response.user.sip)\n          .set('isLoggedIn', true)\n          .set('isError', false)\n          .set('isLoading', false)\n      );\n\n    case AUTH_USER + START:\n      return state.withMutations(s =>\n        s\n          .set('isError', false)\n          .set('isLoggedIn', false)\n          .set('expires', 0)\n          .set('isLoading', true)\n      );\n\n    case AUTH_USER + FAIL:\n      return state.withMutations(s =>\n        s\n          .set('isLoggedIn', false)\n          .set('isError', true)\n          .set('expires', 0)\n          .set('errorCode', response.errorCode)\n          .set('errorMessage', response.errorMessage)\n          .set('isLoading', false)\n      );\n\n    case LOG_OUT:\n      return state.withMutations(s =>\n        s\n          .set('isLoggedIn', false)\n          .set('isError', false)\n          .set('token', '')\n          .set('sip', '')\n          .set('expires', 0)\n          .set('isLoading', false)\n      );\n\n    default:\n      return state;\n  }\n}\n","import { Map } from 'immutable';\n\nexport function arrayToMap(arr, mapper = f => f) {\n  return arr.reduce((acc, entity) => acc.set(entity.id, mapper(entity)), new Map({}));\n}\n\nexport function arrayToMapCustomKey(arr, mapper = f => f, idKey) {\n  return arr.reduce((acc, entity) => {\n    const key = typeof idKey === 'function' ? idKey(entity) : entity[idKey];\n\n    return acc.set(key, mapper(entity));\n  }, new Map({}));\n}\n\nexport function arrayToMapQueues(arr, mapper = f => f) {\n  return arr.reduce((acc, entity) => acc.set(entity.id, mapper(entity)), new Map({}));\n}\n","import {\n  CHANGE_SIP_STATUS,\n  LOAD_ALL_SIPS,\n  START,\n  SUCCESS,\n  FAIL,\n  SIP_SPY,\n  // SIP_SPY_WHISPER,\n  SIP_STATUS_UNAVAILABLE,\n  SIP_SELECT,\n  SIP_FILTER,\n  SIP_FILTER_ONLINE,\n  RESET_ERROR\n} from '../helpers/constants';\n\nimport { Record, Map, OrderedMap } from 'immutable';\nimport { arrayToMap } from '../store/helpers';\n\nconst SipModel = Record({\n  login: 'Default',\n  sip: 0,\n  online: false,\n  isTrunk: false,\n  status: SIP_STATUS_UNAVAILABLE\n});\n\nconst SipSimpleModel = Record({\n  sip: 0,\n  online: false,\n  isTrunk: false\n});\n\nconst defaultState = new Map({\n  entities: new OrderedMap({}),\n  entitiesSimple: new OrderedMap({}),\n  isLoading: false,\n  isLoaded: false,\n  selectedSip: '',\n  filter: SIP_FILTER_ONLINE,\n\n  sipSpy: new Map({\n    isError: false,\n    status: '',\n    message: ''\n  })\n});\n\nexport default (state = defaultState, action) => {\n  const { type, payload, response } = action;\n\n  switch (type) {\n    case LOAD_ALL_SIPS + START:\n      return state.set('isLoading', true);\n\n    case LOAD_ALL_SIPS + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .update('entities', entities =>\n            entities.merge(arrayToMap(response, sip => new SipModel(sip)))\n          )\n          .update('entitiesSimple', entitiesSimple =>\n            entitiesSimple.merge(arrayToMap(response, sip => new SipSimpleModel(sip)))\n          )\n          .set('isLoading', false)\n          .set('isLoaded', true)\n      );\n\n    case LOAD_ALL_SIPS + FAIL:\n      return state;\n\n    case CHANGE_SIP_STATUS:\n      return state.withMutations(s =>\n        s\n          .setIn(['entities', payload.sip, 'status'], payload.status)\n          .setIn(['entities', payload.sip, 'online'], payload.online)\n          .setIn(['entitiesSimple', payload.sip, 'online'], payload.online)\n      );\n\n    case SIP_SELECT:\n      return state.set('selectedSip', payload.sip);\n\n    case SIP_FILTER:\n      return state.set('filter', payload.filter);\n\n    case SIP_SPY + START:\n      return state;\n    case SIP_SPY + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .setIn(['sipSpy', 'isError'], response.status === 'Failure')\n          .setIn(['sipSpy', 'message'], response.reason)\n          .setIn(['sipSpy', 'status'], response.status)\n      );\n    case SIP_SPY + FAIL:\n      return state.withMutations(s =>\n        s\n          .setIn(['sipSpy', 'isError'], true)\n          .setIn(['sipSpy', 'message'], response.errorMessage || 'An error occurred in the API.')\n      );\n\n    case SIP_SPY + RESET_ERROR:\n      return state.withMutations(s =>\n        s.setIn(['sipSpy', 'isError'], false).setIn(['sipSpy', 'message'], '')\n      );\n\n    default:\n      return state;\n  }\n};\n","import {\n  FAIL,\n  LOAD_ALL_QUEUES,\n  QUEUE_JOIN,\n  QUEUE_LEAVE,\n  QUEUE_MEMBER_STATUS,\n  START,\n  SUCCESS\n} from '../helpers/constants';\n\nimport { Map, Record, OrderedMap } from 'immutable';\n\nconst QueueParamsModel = Record({\n  queue: '',\n  max: '0',\n  strategy: 'ringall',\n  calls: '1',\n  holdtime: '109',\n  talktime: '97',\n  completed: '116',\n  abandoned: '42',\n  servicelevel: '60',\n  servicelevelperf: '52.6',\n  weight: '0'\n});\n\nconst QueueMemberModel = Record({\n  queue: '',\n  login: '',\n  sip: '',\n  location: 'Local/143@from-queue/n',\n  penalty: '0',\n  callstaken: '5',\n  lastcall: '1536960877',\n  status: '',\n  paused: '0',\n  online: false\n});\n\nconst QueueEntryModel = Record({\n  queue: 'Default',\n  position: 0,\n  channel: false,\n  calleridnum: '',\n  calleridname: '',\n  connectedlinenum: '',\n  connectedlinename: '',\n  wait: '0',\n  date: 0,\n  uniqueid: ''\n});\n\nconst defaultState = new Map({\n  entities: new Map({}),\n  isLoading: false,\n  isLoaded: false,\n  // selectedSip: '',\n  // filter: SIP_FILTER_ALL,\n\n  sipSpy: new Map({\n    isError: false,\n    status: '',\n    message: ''\n  })\n});\n\nexport default (state = defaultState, action) => {\n  const { type, payload, response } = action;\n  let i = 0;\n\n  switch (type) {\n    case LOAD_ALL_QUEUES + START:\n      return state.set('isLoading', true);\n\n    case LOAD_ALL_QUEUES + SUCCESS:\n      return state\n        .update('entities', entities => entities.merge(arrayToMapQueues(response)))\n        .set('isLoading', false)\n        .set('isLoaded', true);\n\n    case LOAD_ALL_QUEUES + FAIL:\n      return state;\n\n    case QUEUE_JOIN:\n      return state.withMutations(s =>\n        s\n          .setIn(\n            ['entities', payload.entry.queue, 'entries', payload.entry.uniqueid],\n            new QueueEntryModel(payload.entry)\n          )\n          .updateIn(['entities', payload.entry.queue, 'entries'], item =>\n            item.map(keyValue => keyValue.set('position', ++i))\n          )\n      );\n\n    case QUEUE_LEAVE:\n      return state.withMutations(s =>\n        s\n          .deleteIn(['entities', payload.entry.queue, 'entries', payload.entry.uniqueid])\n          .updateIn(\n            ['entities', payload.entry.queue, 'entries'],\n            item => (item ? item.map(keyValue => keyValue.set('position', ++i)) : [])\n          )\n      );\n\n    case QUEUE_MEMBER_STATUS:\n      return state.setIn(\n        ['entities', payload.data.queue, 'members', payload.data.sip],\n        new QueueMemberModel(payload.data)\n      );\n\n    default:\n      return state;\n  }\n};\n\nfunction arrayToMapQueues(queues) {\n  let keys = Object.keys(queues);\n  let res = keys.reduce((accMain, key) => {\n    const el = queues[key];\n\n    return accMain.set(\n      key,\n      new Map({\n        params: new QueueParamsModel(el.params),\n        members: el.members.reduce(\n          (acc, entity) => acc.set(entity.sip, new QueueMemberModel(entity)),\n          new OrderedMap({})\n        ),\n        entries: el.entries.reduce(\n          (acc, entity) => acc.set(entity.uniqueid, new QueueEntryModel(entity)),\n          new OrderedMap({})\n        )\n      })\n    );\n  }, new Map({}));\n\n  return res;\n}\n","import {\n  LOAD_ALL_CHANNELS,\n  START,\n  SUCCESS,\n  FAIL,\n  NEW_CHANNEL,\n  REMOVE_CHANNEL\n} from '../helpers/constants';\nimport { Record, Map } from 'immutable';\nimport { arrayToMap } from '../store/helpers';\n\nconst ChannelModel = Record({\n  sip: 0,\n  connectedlinenum: 0,\n  id: '',\n  duration: 0,\n  date: 0,\n  status: 0,\n  channel: ''\n});\n\nconst defaultState = new Map({});\n\nexport default (state = defaultState, action) => {\n  const { type, payload, response } = action;\n\n  switch (type) {\n    case LOAD_ALL_CHANNELS + START:\n      return state;\n\n    case LOAD_ALL_CHANNELS + SUCCESS:\n      return state.merge(arrayToMap(response, channel => new ChannelModel(channel)));\n\n    case LOAD_ALL_CHANNELS + FAIL:\n      return state;\n\n    case NEW_CHANNEL:\n      return state.setIn(\n        [payload.channel.channel.id],\n        new ChannelModel({ ...payload.channel.channel })\n      );\n\n    case REMOVE_CHANNEL:\n      return state.delete(payload.id);\n\n    default:\n      return state;\n  }\n};\n","import { Record, Map, fromJS } from 'immutable';\nimport {\n  LOAD_USERS,\n  POST_USER,\n  PATCH_USER,\n  SUCCESS,\n  START,\n  FAIL,\n  DELETE_USER,\n  LOAD_USER\n} from '../helpers/constants';\nimport { arrayToMapCustomKey } from '../store/helpers';\n\nconst UserModel = Record({\n  _id: '',\n  firstName: '',\n  lastName: '',\n  role: 'Client',\n  username: '',\n  sip: '',\n\n  isLoading: false\n});\n\nconst defaultState = new Map({\n  entities: new Map({}),\n  errorMessage: '',\n  errorField: '',\n  isError: false,\n  isLoading: false,\n  isLoaded: false,\n  submitSuccess: false,\n  shouldRedirect: ''\n});\n\nexport default (state = defaultState, action) => {\n  const { type, payload, response } = action;\n\n  switch (type) {\n    case LOAD_USERS + START:\n      return state.set('isLoading', true);\n\n    case LOAD_USERS + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .update('entities', entities =>\n            entities.merge(arrayToMapCustomKey(response, user => new UserModel(user), 'username'))\n          )\n          .set('isLoading', false)\n          .set('isLoaded', true)\n      );\n\n    case LOAD_USERS + FAIL:\n      return state.withMutations(s =>\n        s\n          .set('isLoading', false)\n          .set('isLoaded', false)\n          .set('isError', true)\n          .set('errorMessage', response.errorMessage)\n      );\n\n    case LOAD_USER + START:\n      return state.set('isLoading', true);\n\n    case LOAD_USER + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .update('entities', entities =>\n            entities.merge(fromJS({ [response.username]: new UserModel(response) }))\n          )\n          .set('isLoading', false)\n          .set('isLoaded', true)\n      );\n\n    case LOAD_USER + FAIL:\n      return state.withMutations(s =>\n        s\n          .set('isLoading', false)\n          .set('isLoaded', false)\n          .set('isError', true)\n          .set('errorMessage', response.errorMessage)\n      );\n\n    case POST_USER + START:\n      return state\n        .set('submitSuccess', false)\n        .set('isError', false)\n        .set('errorMessage', '')\n        .set('errorField', '');\n\n    case POST_USER + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .setIn(['entities', payload.username], new UserModel(response))\n          .set('isLoading', false)\n          .set('isLoaded', true)\n          .set('isError', false)\n          .set('errorMessage', '')\n          .set('errorField', '')\n          .set('submitSuccess', true)\n      );\n\n    case POST_USER + FAIL:\n      return state\n        .set('isLoading', false)\n        .set('isLoaded', false)\n        .set('isError', true)\n        .set('errorMessage', response.errorMessage)\n        .set('errorField', response.field)\n        .set('submitSuccess', false);\n\n    case DELETE_USER + START:\n      return state.set('submitSuccess', false);\n\n    case DELETE_USER + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .removeIn(['entities', payload.username], new UserModel(response))\n          .set('submitSuccess', true)\n      );\n\n    case DELETE_USER + FAIL:\n      return state.withMutations(s =>\n        s\n          .set('isLoading', false)\n          .set('isLoaded', false)\n          .set('isError', true)\n          .set('errorMessage', response.errorMessage)\n          .set('errorField', response.field)\n          .set('submitSuccess', false)\n      );\n\n    case PATCH_USER + START:\n      return state.withMutations(s =>\n        s\n          .setIn(['entities', payload.username, 'isLoading'], true)\n          .set('isError', false)\n          .set('errorMessage', '')\n          .set('errorField', '')\n          .set('submitSuccess', false)\n      );\n\n    case PATCH_USER + SUCCESS:\n      return state.withMutations(s =>\n        s\n          .setIn(['entities', payload.username, 'isLoading'], false)\n          .setIn(['entities', payload.username], new UserModel(response))\n          .set('submitSuccess', true)\n      );\n\n    case PATCH_USER + FAIL:\n      return state.withMutations(s =>\n        s\n          .setIn(['entities', payload.username, 'isLoading'], false)\n          .set('isError', true)\n          .set('errorMessage', response.errorMessage)\n          .set('errorField', response.field)\n          .set('submitSuccess', false)\n      );\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux-immutable';\n\nimport auth from './auth';\nimport sip from './sip';\nimport queue from './queue';\nimport channels from './channels';\nimport user from './user';\n\nexport default combineReducers({\n  auth,\n  sip,\n  queue,\n  channels,\n  user\n});\n","export function secToHuman(sec) {\n  if (!sec) {\n    return '00:00:00';\n  }\n\n  const secNum = parseInt(sec, 10);\n  let hours = Math.floor(secNum / 3600);\n  let minutes = Math.floor((secNum - hours * 3600) / 60);\n  let seconds = secNum - hours * 3600 - minutes * 60;\n\n  if (hours < 10) {\n    hours = `0${hours}`;\n  }\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  if (seconds < 10) {\n    seconds = `0${seconds}`;\n  }\n\n  return `${hours}:${minutes}:${seconds}`;\n}\n\nexport function paramsForAPI(params) {\n  return Object.keys(params)\n    .map(el => `${el}=${params[el]}`)\n    .join('&');\n}\n","import {\n  API_URL,\n  // BRIDGE_START,\n  // BRIDGE_STOP,\n  LOAD_ALL_CHANNELS,\n  // START,\n  // SUCCESS,\n  // FAIL,\n  NEW_CHANNEL,\n  REMOVE_CHANNEL\n} from '../helpers/constants';\n\nexport function loadChannels() {\n  return {\n    type: LOAD_ALL_CHANNELS,\n    callAPI: `${API_URL}/channels`,\n    needAuth: true\n  };\n}\n\nexport function newChannel(channel) {\n  return {\n    type: NEW_CHANNEL,\n    payload: { channel },\n    needAuth: true\n  };\n}\n\nexport function removeChannel(id) {\n  return {\n    type: REMOVE_CHANNEL,\n    payload: { id },\n    needAuth: true\n  };\n}\n","import {\n  API_URL,\n  SIP_SELECT,\n  LOAD_ALL_SIPS,\n  CHANGE_SIP_STATUS,\n  SIP_FILTER,\n  SIP_SPY,\n  RESET_ERROR\n} from '../helpers/constants';\n\nexport function loadSipPeers() {\n  return {\n    type: LOAD_ALL_SIPS,\n    callAPI: `${API_URL}/sip`,\n    needAuth: true\n  };\n}\n\nexport function changeSipStatus({ sip, status, online }) {\n  return {\n    type: CHANGE_SIP_STATUS,\n    payload: {\n      sip,\n      status,\n      online\n    },\n    needAuth: true\n  };\n}\n\nexport function selectSip(sip) {\n  return {\n    type: SIP_SELECT,\n    payload: {\n      sip\n    }\n  };\n}\n\nexport function filterSip(filter) {\n  return {\n    type: SIP_FILTER,\n    payload: {\n      filter\n    },\n    needAuth: true\n  };\n}\n\nexport function spySip(recipient, sip, whisper) {\n  return {\n    type: SIP_SPY,\n    payload: { recipient, sip, whisper },\n    params: { whisper },\n    callAPI: `${API_URL}/channels/spy/${recipient}/${sip}`,\n    needAuth: true\n  };\n}\n\nexport function spySipResetError() {\n  return {\n    type: SIP_SPY + RESET_ERROR\n  };\n}\n","import {\n  API_URL,\n  LOAD_ALL_QUEUES,\n  QUEUE_JOIN,\n  QUEUE_LEAVE,\n  QUEUE_MEMBER_STATUS\n} from '../helpers/constants';\n\nexport function getQueues() {\n  return {\n    type: LOAD_ALL_QUEUES,\n    callAPI: `${API_URL}/queue`,\n    needAuth: true\n  };\n}\n\nexport function queueJoin({ entry, id }) {\n  return {\n    type: QUEUE_JOIN,\n    payload: entry,\n    needAuth: true\n  };\n}\n\nexport function queueLeave({ entry, id }) {\n  return {\n    type: QUEUE_LEAVE,\n    payload: entry,\n    needAuth: true\n  };\n}\n\nexport function changeQueueMemberStatus(data) {\n  return {\n    type: QUEUE_MEMBER_STATUS,\n    payload: { data },\n    needAuth: true\n  };\n}\n","import { newChannel, removeChannel } from '../AC/channels';\nimport { changeSipStatus } from '../AC/sip';\nimport { changeQueueMemberStatus } from '../AC/queue';\nimport { BRIDGE_STOP } from '../helpers/constants';\n\nimport io from 'socket.io-client';\nimport { queueJoin, queueLeave } from 'AC/queue';\n\nvar socket = null;\n\nexport function webSocketMiddleware(store) {\n  return next => action => {\n    if (socket && action.type === BRIDGE_STOP) {\n      socket.emit('message', action.message);\n    }\n\n    return next(action);\n  };\n}\n\nexport default function(store) {\n  const token = localStorage.token;\n  if (!token) {\n    return;\n  }\n\n  // FIXME for DEV\n  // eslint-disable-next-line\n  const wsPort = process.env.NODE_ENV !== 'production' ? 3002 : location.port;\n\n  // FIXME for DEV\n  // eslint-disable-next-line\n  const url = `${location.protocol}//${location.hostname}:${wsPort}`;\n  const socket = io.connect(\n    url,\n    {\n      query: {\n        token: token.split(' ')[1]\n      }\n    }\n  );\n\n  socket.on('unauthorized', function(error) {\n    if (error.data.type === 'UnauthorizedError' || error.data.code === 'invalid_token') {\n      // redirect user to login page perhaps?\n    }\n  });\n\n  socket.on('remove-channel', data => {\n    store.dispatch(removeChannel(data));\n  });\n\n  socket.on('new-channel', data => {\n    store.dispatch(newChannel({ channel: data, id: data.id }));\n  });\n\n  socket.on('change-sip-status', data => {\n    store.dispatch(\n      changeSipStatus({\n        sip: data.sip,\n        status: data.status,\n        online: data.online\n      })\n    );\n  });\n\n  socket.on('change-queue-member-status', data => {\n    store.dispatch(changeQueueMemberStatus(data));\n  });\n\n  socket.on('queue-join', data => {\n    store.dispatch(queueJoin({ entry: data, id: data.uniqueid }));\n  });\n\n  socket.on('queue-leave', data => {\n    store.dispatch(queueLeave({ entry: data, id: data.uniqueid }));\n  });\n}\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport reducer from '../reducer';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { Map } from 'immutable';\n\nimport api from '../middlewares/api';\nimport startWS, { webSocketMiddleware } from '../middlewares/socketMiddleware';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nlet middleware = [thunk, api, webSocketMiddleware];\n\nif (process.env.NODE_ENV !== 'production' && false) {\n  const logger = createLogger();\n\n  middleware = [...middleware, logger];\n}\n\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\n\nconst initialState = Map({});\n\nconst store = createStore(reducer, initialState, enhancer);\nstartWS(store);\n\nif (process.env.NODE_ENV !== 'production' && module.hot) {\n  module.hot.accept(() => {\n    const nextRootReducer = require('../reducer').default;\n    store.replaceReducer(nextRootReducer);\n  });\n}\n\n// window.store = store;\nexport default store;\n","import { START, SUCCESS, FAIL, LOG_OUT } from '../helpers/constants';\nimport { paramsForAPI } from '../helpers/common';\nimport axios from 'axios';\n\nexport default store => next => action => {\n  const { callAPI, methodAPI, needAuth, payload, params, type, ...rest } = action;\n\n  if (!callAPI) {\n    return next(action);\n  }\n\n  next({ ...rest, type: type + START, payload });\n\n  let options = {\n    method: methodAPI || 'GET'\n  };\n\n  if (options.method === 'GET' && params) {\n    options.params = params;\n  }\n\n  if (methodAPI === 'POST' || methodAPI === 'PUT' || methodAPI === 'PATCH') {\n    options.headers = {\n      Accept: 'application/json, text/plain, */*',\n      'Content-Type': 'application/json;charset=utf-8' //axios\n    };\n\n    options.body = params ? paramsForAPI(params) : paramsForAPI(payload);\n    options.data = params ? params : payload;\n  }\n\n  if (needAuth) {\n    axios.defaults.headers.common['Authorization'] = store.getState().getIn(['auth', 'token']);\n  }\n\n  options.url = callAPI;\n  // FIXME for DEV\n  options.url =\n    process.env.NODE_ENV !== 'production'\n      ? // eslint-disable-next-line\n        `${location.protocol}//${location.hostname}:3002${options.url}`\n      : options.url;\n\n  axios(options)\n    .then(response => next({ ...rest, type: type + SUCCESS, response: response.data, payload }))\n    .catch(error => {\n      if (error.response.status === 403 || error.response.status === 401) {\n        localStorage.removeItem('token');\n        next({ ...rest, payload, type: LOG_OUT });\n      }\n\n      return next({\n        ...rest,\n        type: type + FAIL,\n        payload,\n        response: {\n          ...(error.response.data.field && { field: error.response.data.field }),\n          ...(error.response.data.errorMessage && {\n            errorMessage: error.response.data.errorMessage\n          }),\n          errorCode: error.response.status\n        }\n      });\n    });\n};\n","import { createSelectorCreator, defaultMemoize } from 'reselect';\r\nimport { is } from 'immutable';\r\n\r\nexport const createImmutableEqualSelector = createSelectorCreator(defaultMemoize, is);\r\n","import { createImmutableEqualSelector } from './_helper';\r\n\r\nexport const getQueuesIsLoadedState = state => state.getIn(['queue', 'isLoaded']);\r\n\r\nexport const getQueuesIsLoadingState = state => state.getIn(['queue', 'isLoading']);\r\n\r\nconst getQueuesKeys = state => state.getIn(['queue', 'entities']).map((el, key) => key);\r\n\r\nexport const getQueuesKeysState = createImmutableEqualSelector([getQueuesKeys], queue => queue);\r\n\r\nconst getFilteredMembers = (state, entity) => state.getIn(['queue', 'entities', entity, 'members']);\r\n\r\nexport const getFilteredMembersState = () => {\r\n  return createImmutableEqualSelector([getFilteredMembers], sip =>\r\n    sip.filter(el => el.online).sort((a, b) => a.sip - b.sip)\r\n  );\r\n};\r\n\r\nexport const getFilteredMembersLengthState = () => {\r\n  return createImmutableEqualSelector(\r\n    [getFilteredMembers],\r\n    sip => sip.filter(el => el.online).size\r\n  );\r\n};\r\n\r\nconst getDetail = (state, entity) => state.getIn(['queue', 'entities', entity, 'params']);\r\n\r\nexport const getDetailState = () => {\r\n  return createImmutableEqualSelector([getDetail], state => state);\r\n};\r\n\r\nconst getQueueEntries = (state, queueId) => state.getIn(['queue', 'entities', queueId, 'entries']);\r\n\r\nexport const getQueueEntriesState = () => {\r\n  return createImmutableEqualSelector([getQueueEntries], entries => {\r\n    return entries.sort((a, b) => b.wait - a.wait);\r\n  });\r\n};\r\n\r\nconst getQueueSipPeer = (state, { memberOfQueue, sip }) =>\r\n  state.getIn(['queue', 'entities', memberOfQueue, 'members', sip]);\r\nexport const getQueueSipPeerState = () =>\r\n  createImmutableEqualSelector([getQueueSipPeer], state => state);\r\n","import React, { PureComponent } from 'react';\nimport { NavLink as RRNavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\n\nimport { logOutUser } from 'AC/auth';\nimport { getQueues } from 'AC/queue';\nimport {\n  getQueuesIsLoadedState,\n  getQueuesIsLoadingState,\n  getQueuesKeysState\n} from '../../store/selectors/queue';\n\nclass Header extends PureComponent {\n  state = {\n    isOpen: false\n  };\n\n  componentDidMount() {\n    const { isLoadingQueues, isLoadedQueues } = this.props;\n\n    if (!isLoadingQueues && !isLoadedQueues) {\n      this.props.getQueues();\n    }\n  }\n\n  toggle = () => {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  };\n\n  render() {\n    const { logOutUser, isQueuesExist } = this.props;\n\n    return (\n      <header>\n        <Navbar color=\"primary\" dark expand=\"md\">\n          <NavbarBrand tag={RRNavLink} to=\"/dashboard\">\n            MoniAst\n          </NavbarBrand>\n\n          <NavbarToggler onClick={this.toggle} />\n\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav className=\"mr-auto\" navbar>\n              <NavItem>\n                <NavLink tag={RRNavLink} to=\"/dashboard\">\n                  Dashboard\n                </NavLink>\n              </NavItem>\n              {isQueuesExist && (\n                <NavItem>\n                  <NavLink tag={RRNavLink} to=\"/queues\">\n                    Queues\n                  </NavLink>\n                </NavItem>\n              )}\n              <NavItem>\n                <NavLink tag={RRNavLink} to=\"/users\">\n                  Users\n                </NavLink>\n              </NavItem>\n            </Nav>\n            <Nav className=\"ml-auto\" navbar>\n              <NavItem>\n                <NavLink onClick={logOutUser} href=\"#\">\n                  LogOut\n                </NavLink>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Navbar>\n      </header>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const queues = getQueuesKeysState(state);\n\n  return {\n    isQueuesExist: queues ? !!queues.size : null,\n    isLoadingQueues: getQueuesIsLoadingState(state),\n    isLoadedQueues: getQueuesIsLoadedState(state)\n  };\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    { logOutUser, getQueues }\n  )(Header)\n);\n","import { API_URL, AUTH_USER, LOG_OUT, START, SUCCESS, FAIL } from '../helpers/constants';\n\nimport axios from 'axios';\n\nexport function loginUser({ username, password, path }) {\n  return dispatch => {\n    dispatch({\n      type: AUTH_USER + START\n    });\n\n    const url =\n      process.env.NODE_ENV === 'production'\n        ? `${API_URL}/auth/login`\n        : // FIXME for DEV\n          // eslint-disable-next-line\n          `${location.protocol}//${location.hostname}:3002${API_URL}/auth/login`;\n    // const url = `${API_URL}/auth/login`;\n\n    axios({\n      url,\n      method: 'post',\n      data: { username, password }\n    })\n      .then(response => {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('sip', response.data.user.sip);\n\n        dispatch({\n          type: AUTH_USER + SUCCESS,\n          payload: { username, password, path },\n          response: response.data\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: AUTH_USER + FAIL,\n          payload: { username, password, path },\n          response: {\n            errorMessage: error.response ? error.response.data : 'No response',\n            field: error.response ? error.response.data.field : '',\n            errorCode: error.response ? error.response.status : 0\n          }\n        });\n      });\n  };\n}\n\nexport function logOutUser() {\n  localStorage.removeItem('token');\n  return { type: LOG_OUT };\n}\n","import React, { Component } from 'react';\n\nimport Header from 'components/Header/index';\nimport { ToastContainer } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport './content.css';\n\nclass Content extends Component {\n  render() {\n    return (\n      <div>\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={10000}\n          hideProgressBar={false}\n          newestOnTop\n          closeOnClick\n          rtl={false}\n          pauseOnVisibilityChange\n          draggable\n          pauseOnHover\n        />\n\n        <Header />\n\n        <div>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Content;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { loginUser } from 'AC/auth';\nimport { withRouter } from 'react-router-dom';\n\nimport './login.css';\nimport {\n  getAuthErrorCodeState,\n  getAuthErrorMessageState,\n  getAuthIsErrorState,\n  getAuthIsLoadingInState,\n  getAuthIsLoggedInState\n} from '../../store/selectors/auth';\n\nclass Login extends Component {\n  state = {\n    username: '',\n    password: ''\n  };\n\n  componentDidMount() {\n    if (this.props.isLoggedIn) {\n      const locationState = this.props.location.state;\n\n      this.props.history.push(locationState ? locationState.from : '/dashboard');\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, prevContext) {\n    if (this.props.isLoggedIn) {\n      const locationState = this.props.location.state;\n\n      this.props.history.push(\n        locationState && locationState.from ? locationState.from.pathname : '/dashboard'\n      );\n    }\n  }\n\n  handleChangeInput = ev => {\n    this.setState({ [ev.target.getAttribute('name')]: ev.target.value });\n  };\n\n  render() {\n    const { isError, isLoading, errorCode } = this.props;\n\n    let errorMessage = '';\n    if (isError) {\n      errorMessage =\n        errorCode === 401 || errorCode === 403\n          ? 'Wrong username or password'\n          : 'Error has occurred';\n    }\n\n    return (\n      <div className=\"container\">\n        <form className=\"form-signin\" onSubmit={this.handleSubmitForm}>\n          <h2 className=\"form-signin-heading\">Please sign in</h2>\n\n          {isError && (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {errorMessage}\n            </div>\n          )}\n\n          <label htmlFor=\"inputUsername\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"text\"\n            id=\"inputUsername\"\n            name=\"username\"\n            className=\"form-control\"\n            placeholder=\"Username\"\n            required\n            autoFocus\n            value={this.state.username}\n            onChange={this.handleChangeInput}\n          />\n\n          <label htmlFor=\"inputPassword\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            id=\"inputPassword\"\n            name=\"password\"\n            className=\"form-control\"\n            placeholder=\"Password\"\n            required\n            value={this.state.password}\n            onChange={this.handleChangeInput}\n          />\n\n          <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\" disabled={isLoading}>\n            Sign in &nbsp;\n            {isLoading && <i className=\"fa fa-circle-o-notch fa-spin login-spinner\" />}\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n  handleSubmitForm = ev => {\n    ev.preventDefault();\n    const locationState = this.props.location.state;\n    const { username, password } = this.state;\n\n    this.props.loginUser({\n      username,\n      password,\n      from: locationState && locationState.from && locationState.from.pathname\n    });\n  };\n}\n\nLogin.propTypes = {\n  isError: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isLoggedIn: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return {\n    isLoggedIn: getAuthIsLoggedInState(state),\n    isLoading: getAuthIsLoadingInState(state),\n\n    isError: getAuthIsErrorState(state),\n    errorCode: getAuthErrorCodeState(state),\n    errorMessage: getAuthErrorMessageState(state)\n  };\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    { loginUser }\n  )(Login)\n);\n","import { createImmutableEqualSelector } from './_helper';\r\n\r\nimport { SIP_FILTER_ALL, SIP_FILTER_ONLINE } from '../../helpers/constants';\r\n\r\nexport const getSipIsLoadedState = state => state.getIn(['sip', 'isLoaded']);\r\nexport const getSipIsLoadingState = state => state.getIn(['sip', 'isLoading']);\r\n\r\nexport const getSipSelectedSipState = state => state.getIn(['sip', 'selectedSip']);\r\n\r\nexport const getSipSpyIsErrorState = state => state.getIn(['sip', 'sipSpy', 'isError']);\r\nexport const getSipSpyStatusState = state => state.getIn(['sip', 'sipSpy', 'status']);\r\nexport const getSipSpyMessageState = state => state.getIn(['sip', 'sipSpy', 'message']);\r\n\r\nexport const getSipFilter = state => state.getIn(['sip', 'filter']);\r\nexport const getSipFilterState = getSipFilter;\r\n\r\nconst getSipPeer = (state, sip) => state.getIn(['sip', 'entities', sip]);\r\nexport const getSipPeerState = () => createImmutableEqualSelector([getSipPeer], state => state);\r\n\r\nconst filters = {\r\n  [SIP_FILTER_ONLINE]: el => el.online,\r\n  [SIP_FILTER_ALL]: () => true\r\n};\r\n\r\nconst getFilteredSips = state => state.getIn(['sip', 'entitiesSimple']);\r\n\r\nexport const getFilteredSipsState = createImmutableEqualSelector(\r\n  [getFilteredSips, getSipFilter],\r\n  (sip, filter) => {\r\n    if (filter === SIP_FILTER_ALL) {\r\n      return sip\r\n        .filter(sip => !sip.isTrunk)\r\n        .sort((a, b) => a.sip - b.sip)\r\n        .sort((a, b) => b.online - a.online);\r\n    }\r\n\r\n    return sip\r\n      .filter(sip => !sip.isTrunk)\r\n      .filter(filters[filter])\r\n      .sort((a, b) => a.sip - b.sip)\r\n      .sort((a, b) => b.online - a.online);\r\n  }\r\n);\r\n\r\nexport const getFilteredTrunksState = createImmutableEqualSelector(\r\n  [getFilteredSips, getSipFilter],\r\n  (sip, filter) => {\r\n    if (filter === SIP_FILTER_ALL) {\r\n      return sip\r\n        .filter(sip => sip.isTrunk)\r\n        .sort((a, b) => a.sip > b.sip)\r\n        .sort((a, b) => b.online - a.online);\r\n    }\r\n\r\n    return sip\r\n      .filter(sip => sip.isTrunk)\r\n      .filter(filters[filter])\r\n      .sort((a, b) => a.sip > b.sip)\r\n      .sort((a, b) => b.online - a.online);\r\n  }\r\n);\r\n","import { createImmutableEqualSelector } from './_helper';\r\n\r\nexport const getChannelsState = state => state.get('channels');\r\n\r\nconst getChannelsBySip = (state, sipPeer) =>\r\n  state.get('channels').filter(item => item.sip === sipPeer.sip);\r\n\r\nexport const getChannelsBySipState = () => {\r\n  return createImmutableEqualSelector([getChannelsBySip], channels => channels);\r\n};\r\n","import { compose, withState, withHandlers, lifecycle } from 'recompose';\r\nimport { secToHuman } from '../../helpers/common';\r\n\r\nconst enchance = compose(\r\n  withState('duration', 'setDuration', props => {\r\n    const startDate = new Date(props.date);\r\n    const currentDate = new Date();\r\n    return parseInt((currentDate - startDate) / 1000) + props.duration;\r\n  }),\r\n  withState('intervalId', 'setIntervalId', null),\r\n  withHandlers({\r\n    handleStartInterval: props => () => {\r\n      const { duration, date } = props;\r\n      const startDate = new Date(date);\r\n\r\n      let intervalId = setInterval(() => {\r\n        const currentDate = new Date();\r\n        props.setDuration(parseInt((currentDate - startDate) / 1000) + duration);\r\n      }, 1000);\r\n\r\n      props.setIntervalId(intervalId);\r\n    },\r\n\r\n    handleStopInterval: props => () => {\r\n      clearInterval(props.intervalId);\r\n      props.setIntervalId(null);\r\n    }\r\n  }),\r\n  lifecycle({\r\n    componentDidMount() {\r\n      if (this.props.isTicking && !this.props.intervalId) {\r\n        this.props.handleStartInterval();\r\n      }\r\n    },\r\n    componentDidUpdate() {\r\n      if (this.props.isTicking && !this.props.intervalId) {\r\n        this.props.handleStartInterval();\r\n      }\r\n    },\r\n    componentWillUnmount() {\r\n      if (this.props.intervalId) {\r\n        this.props.handleStopInterval();\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nfunction DurationTimer(props) {\r\n  const durationHuman = props.isTicking ? secToHuman(props.duration) : '';\r\n\r\n  return durationHuman ? durationHuman : null;\r\n}\r\n\r\nexport default enchance(DurationTimer);\r\n","import React, { PureComponent, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport DurationTimer from '../DurationTimer/DurationTimer';\n\nimport { CHANNEL_STATUS_UP } from 'helpers/constants';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport './sipPeerChannel.css';\nimport { CardBody } from 'reactstrap';\n\nclass SipPeerChannel extends PureComponent {\n  render() {\n    const { channel } = this.props;\n\n    const statusIcon =\n      channel.status === CHANNEL_STATUS_UP ? (\n        <FontAwesomeIcon icon=\"phone\" />\n      ) : (\n        <FontAwesomeIcon icon=\"phone-volume\" className=\"channel-ringing\" />\n      );\n\n    return (\n      <div title={channel.status}>\n        {statusIcon} {channel.connectedlinenum}\n        <span className=\"float-right\">\n          <DurationTimer\n            duration={channel.duration}\n            date={channel.date}\n            isTicking={channel.status === CHANNEL_STATUS_UP}\n          />\n        </span>\n      </div>\n    );\n  }\n}\n\nSipPeerChannel.propTypes = {\n  channel: PropTypes.object.isRequired\n};\n\nconst SipPeerChannels = memo(({ channels, sip }) => {\n  if (!channels || !channels.size) {\n    return null;\n  }\n\n  const sipChannels = channels.entrySeq().map(([key, channel]) => {\n    return (\n      <div key={channel.id}>\n        <SipPeerChannel channel={channel} sip={sip} />\n      </div>\n    );\n  });\n\n  return <CardBody className=\"sip-peer-body\">{sipChannels}</CardBody>;\n});\n\nSipPeerChannels.propTypes = {\n  channels: PropTypes.object,\n  sip: PropTypes.string\n};\n\nexport default SipPeerChannels;\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getChannelsBySipState } from 'store/selectors/channels';\n\nimport { Card, CardHeader } from 'reactstrap';\n\nimport SipPeerChannels from 'components/SipPeerChannels';\n// import SipPeerQueueDetail from \"components/SipPeer/SipPeerQueueDetail\";\nimport './sipPeer.css';\n\nimport {\n  CHANNEL_STATUS_OUT_RINGING,\n  CHANNEL_STATUS_UP,\n  SIP_STATUS_IN_USE,\n  SIP_STATUS_RINGING\n} from 'helpers/constants';\nimport { getSipPeerState } from '../../store/selectors/sip';\nimport { getQueueSipPeerState } from '../../store/selectors/queue';\n\nconst statusStyle = {\n  SIP_STATUS_IDLE: 'success',\n  SIP_STATUS_IN_USE: 'primary', // ring\n  SIP_STATUS_BUSY: 'warning',\n  SIP_STATUS_UNAVAILABLE: 'default',\n  SIP_STATUS_RINGING: 'warning', // ringing\n  SIP_STATUS_ON_HOLD: 'success' // UP\n};\n\nclass SipPeer extends PureComponent {\n  static propTypes = {\n    selectSip: PropTypes.func,\n    sipPeer: PropTypes.object.isRequired,\n    channels: PropTypes.object,\n    isSelected: PropTypes.bool,\n    isTrunk: PropTypes.bool\n  };\n\n  handleSelectSip = ev => {\n    ev.preventDefault();\n\n    const { selectSip, sipPeer } = this.props;\n\n    selectSip(sipPeer.sip);\n  };\n\n  _isSipUp = channels => {\n    return (\n      channels &&\n      channels.size &&\n      !!channels.find(obj => obj.get('status') === CHANNEL_STATUS_UP) &&\n      SIP_STATUS_IN_USE\n    );\n  };\n\n  _isSipRinging = channels => {\n    return (\n      channels &&\n      channels.size &&\n      !!channels.find(obj => obj.get('status') === CHANNEL_STATUS_OUT_RINGING) &&\n      SIP_STATUS_RINGING\n    );\n  };\n\n  render() {\n    const {\n      channels,\n      sipPeerDetail,\n      isSelected,\n      isTrunk\n      // memberOfQueue\n    } = this.props;\n\n    const { login, sip, status } = sipPeerDetail;\n\n    const SipUp = this._isSipUp(channels);\n\n    const SipRinging = SipUp ? '' : this._isSipRinging(channels);\n\n    const peerStatusClass = statusStyle[SipUp] || statusStyle[SipRinging] || statusStyle[status];\n\n    const additionalClass = isSelected ? 'selected-sip' : '';\n\n    // const PeerQueueDetail = memberOfQueue ? (\n    //   <SipPeerQueueDetail sipPeerDetail={sipPeerDetail} />\n    // ) : null;\n\n    return (\n      <Card\n        className={`${additionalClass} border border-${\n          isSelected ? 'danger' : peerStatusClass\n        } text-${peerStatusClass} `}\n      >\n        <CardHeader\n          className={`${!isTrunk ? 'cursor-pointer' : ''} sip-peer-header`}\n          onClick={!isTrunk ? this.handleSelectSip : null}\n        >\n          <div className={`rounded-circle bg-${peerStatusClass} sip-status-indicator`} />\n          {` ${sip} ${login}`}\n        </CardHeader>\n\n        <SipPeerChannels channels={channels} sip={sip} />\n        {/*{sipChannelsElement}*/}\n\n        {/*{PeerQueueDetail}*/}\n      </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state, { sipPeer, memberOfQueue }) {\n  const getSipChannels = getChannelsBySipState();\n  const getQueueSipPeer = getQueueSipPeerState();\n  const getSipPeer = getSipPeerState();\n  let sipPeerDetail;\n\n  if (memberOfQueue) {\n    sipPeerDetail = getQueueSipPeer(state, { memberOfQueue, sip: sipPeer.sip });\n  } else {\n    sipPeerDetail = getSipPeer(state, sipPeer.sip);\n  }\n\n  return {\n    channels: getSipChannels(state, sipPeer),\n    sipPeerDetail\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(SipPeer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  getFilteredTrunksState,\n  getSipIsLoadedState,\n  getSipIsLoadingState\n} from 'store/selectors/sip';\n\nimport { loadSipPeers } from 'AC/sip';\nimport { loadChannels } from 'AC/channels';\n\nimport { Card, CardBody, CardTitle, Col, Row } from 'reactstrap';\nimport SipPeer from 'components/SipPeer';\n\nclass PanelTrunk extends Component {\n  componentDidMount() {\n    const { loadSipPeers, loadChannels, isLoaded, isLoading } = this.props;\n\n    if (!isLoaded && !isLoading) {\n      loadSipPeers();\n      loadChannels();\n    }\n  }\n\n  render() {\n    const { sip } = this.props;\n\n    const peers = sip.entrySeq().map(([key, sipPeer]) => {\n      return (\n        <Col key={sipPeer.sip} md=\"12\" style={{ marginBottom: '5px' }}>\n          <SipPeer sipPeer={sipPeer} isTrunk={true} />\n        </Col>\n      );\n    });\n\n    return (\n      <Card>\n        <CardBody>\n          <CardTitle>Trunks</CardTitle>\n          <Row>{peers}</Row>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    sip: getFilteredTrunksState(state),\n\n    isLoading: getSipIsLoadingState(state),\n    isLoaded: getSipIsLoadedState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    loadSipPeers,\n    loadChannels\n  }\n)(PanelTrunk);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport PropTypes from 'prop-types';\nimport {\n  getFilteredSipsState,\n  getSipIsLoadedState,\n  getSipIsLoadingState,\n  getSipSelectedSipState\n} from 'store/selectors/sip';\n\nimport { loadSipPeers, selectSip } from 'AC/sip';\nimport { loadChannels } from 'AC/channels';\n\nimport { Card, CardBody, Col, Row } from 'reactstrap';\nimport SipPeer from 'components/SipPeer';\n\nclass PanelSip extends Component {\n  componentDidMount() {\n    const { loadSipPeers, loadChannels, isLoaded, isLoading } = this.props;\n\n    if (!isLoaded && !isLoading) {\n      loadSipPeers();\n      loadChannels();\n    }\n  }\n\n  renderItems = () => {\n    const { sip, selectedSip, selectSip } = this.props;\n\n    return sip.entrySeq().map(([key, sipPeer]) => {\n      const isSelected = selectedSip && selectedSip === sipPeer.sip;\n\n      return (\n        <Col key={sipPeer.sip} md=\"4\" className=\"col-sip\">\n          <SipPeer sipPeer={sipPeer} selectSip={selectSip} isSelected={!!isSelected} />\n        </Col>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <Card>\n          <CardBody>\n            <Row>{this.renderItems()}</Row>\n          </CardBody>\n        </Card>\n      </>\n    );\n  }\n}\n\nPanelSip.propTypes = {\n  sip: PropTypes.object,\n\n  isLoading: PropTypes.bool,\n  isLoaded: PropTypes.bool,\n  selectSip: PropTypes.func\n};\n\nfunction mapStateToProps(state) {\n  return {\n    sip: getFilteredSipsState(state),\n    isLoading: getSipIsLoadingState(state),\n    isLoaded: getSipIsLoadedState(state),\n    selectedSip: getSipSelectedSipState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    loadSipPeers,\n    loadChannels,\n    selectSip\n  }\n)(PanelSip);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Button, ButtonGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { toast } from 'react-toastify';\n\nimport { filterSip, spySip, spySipResetError } from 'AC/sip';\n\nimport { SIP_FILTER_ALL, SIP_FILTER_ONLINE } from 'helpers/constants';\nimport {\n  getFilteredSipsState,\n  getSipFilterState,\n  getSipIsLoadedState,\n  getSipIsLoadingState,\n  getSipSelectedSipState,\n  getSipSpyIsErrorState,\n  getSipSpyStatusState,\n  getSipSpyMessageState\n} from 'store/selectors/sip';\nimport { getAuthSipState } from '../../store/selectors/auth';\nimport { getChannelsState } from '../../store/selectors/channels';\n\nimport styles from './SipToolbar.module.css';\n\nclass SipToolbar extends Component {\n  static propTypes = {\n    selectedSip: PropTypes.string,\n    filterSip: PropTypes.func,\n    spySip: PropTypes.func,\n    filter: PropTypes.string,\n    snackBarActions: PropTypes.object,\n\n    sipSpyIsError: PropTypes.bool,\n    sipSpyStatus: PropTypes.string,\n    sipSpyMessage: PropTypes.string,\n\n    isHideFilter: PropTypes.bool\n  };\n\n  componentDidUpdate(prevProps, prevState, prevContext) {\n    if (this.props.sipSpyIsError && prevProps.sipSpyIsError !== true) {\n      toast.error(this.props.sipSpyMessage || 'An error has occurred');\n\n      prevProps.spySipResetError();\n    }\n\n    if (\n      !this.props.sipSpyIsError &&\n      this.props.sipSpyStatus !== prevProps.sipSpyStatus &&\n      this.props.sipSpyMessage\n    ) {\n      toast.info(this.props.sipSpyMessage);\n    }\n  }\n\n  handleToggleOnline = ev => {\n    ev.preventDefault();\n\n    const { filterSip, filter } = this.props;\n\n    if (filter === SIP_FILTER_ALL || !filter) {\n      return filterSip(SIP_FILTER_ONLINE);\n    }\n\n    filterSip(SIP_FILTER_ALL);\n  };\n\n  handleSpy = () => {\n    const { selectedSip, spySip, authSIP } = this.props;\n\n    spySip(authSIP, selectedSip);\n  };\n\n  handleSpyAndWhisper = () => {\n    const { selectedSip, spySip, authSIP } = this.props;\n\n    spySip(authSIP, selectedSip, true);\n  };\n\n  render() {\n    const { selectedSip, filter, queueEntity, isHideFilter } = this.props;\n\n    const filterStateText = filter === SIP_FILTER_ALL ? 'Show online' : 'Show all';\n\n    return (\n      <div className={`nav-scroller bg-white shadow-sm ${styles.container}`}>\n        <div className={`col-md-12 ${styles.content}`}>\n          <nav className=\"nav nav-underline\">\n            <ButtonGroup>\n              {!queueEntity &&\n                !isHideFilter && (\n                  <Button outline color=\"info\" onClick={this.handleToggleOnline}>\n                    {filterStateText}\n                  </Button>\n                )}\n\n              <Button outline color=\"info\" disabled={!selectedSip} onClick={this.handleSpy} title=\"Spy\">\n                <FontAwesomeIcon icon=\"user-secret\" />\n              </Button>\n\n              <Button\n                outline\n                color=\"info\"\n                disabled={!selectedSip}\n                onClick={this.handleSpyAndWhisper}\n                title=\"Spy & whisper\"\n              >\n                <FontAwesomeIcon icon=\"microphone\" />\n              </Button>\n            </ButtonGroup>\n\n            {!!queueEntity && (\n              <ButtonGroup className=\"float-right\">\n                <span className=\"badge badge-primary\">Queue - {queueEntity}</span>\n              </ButtonGroup>\n            )}\n          </nav>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    sip: getFilteredSipsState(state),\n    channels: getChannelsState(state),\n\n    isLoading: getSipIsLoadingState(state),\n    isLoaded: getSipIsLoadedState(state),\n    selectedSip: getSipSelectedSipState(state),\n\n    filter: getSipFilterState(state),\n    authSIP: getAuthSipState(state),\n\n    sipSpyIsError: getSipSpyIsErrorState(state),\n    sipSpyStatus: getSipSpyStatusState(state),\n    sipSpyMessage: getSipSpyMessageState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    filterSip,\n    spySip,\n    spySipResetError\n  }\n)(SipToolbar);\n","import React, { Component } from 'react';\n\nimport PanelTrunk from 'components/PanelTrunk';\nimport PanelSip from 'components/PanelSip';\nimport SipToolbar from '../SipToolbar';\n\nexport class Dashboard extends Component {\n  render() {\n    return (\n      <main>\n        <SipToolbar />\n\n        <div className=\"container-fluid\">\n          <div className=\"row extensions-container\">\n            <div className=\"col-md-9\">\n              <PanelSip />\n            </div>\n\n            <div className=\"col-md-3\">\n              <PanelTrunk />\n            </div>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React, { PureComponent } from 'react';\r\nimport { Card, CardHeader } from 'reactstrap';\r\nimport DurationTimer from '../DurationTimer/DurationTimer';\r\n\r\n// TODO move styles to QueueEntry.module.css\r\nfunction QueueEntry({ queueEntry }) {\r\n  return (\r\n    <Card style={{ width: '100%', margin: '5px 15px' }}>\r\n      <CardHeader className={'sip-peer-header'}>\r\n        {queueEntry.position}){`  `}\r\n        {queueEntry.calleridnum}\r\n        <div className=\"float-right\">\r\n          <DurationTimer duration={+queueEntry.wait} date={queueEntry.date} isTicking={true} />\r\n        </div>\r\n      </CardHeader>\r\n    </Card>\r\n  );\r\n}\r\n\r\nclass QueueEntries extends PureComponent {\r\n  render() {\r\n    const { queueEntries } = this.props;\r\n\r\n    if (!queueEntries && !queueEntries.size) {\r\n      return null;\r\n    }\r\n\r\n    return queueEntries.entrySeq().map(([key, queueEntry]) => {\r\n      return <QueueEntry key={queueEntry.uniqueid} queueEntry={queueEntry} />;\r\n    });\r\n  }\r\n}\r\n\r\nexport default QueueEntries;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getQueueEntriesState } from 'store/selectors/queue';\r\nimport QueueEntries from './QueueEntries';\r\n\r\nclass QueueEntryContainer extends Component {\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    return !nextProps.queueEntries.equals(this.props.queueEntries);\r\n  }\r\n\r\n  render() {\r\n    const { queueEntries, queueId } = this.props;\r\n    return <QueueEntries queueEntries={queueEntries} queueId={queueId} />;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, { queueId }) {\r\n  const getEntries = getQueueEntriesState();\r\n\r\n  return {\r\n    queueEntries: getEntries(state, queueId)\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {}\r\n)(QueueEntryContainer);\r\n","import React, { memo } from 'react';\r\nimport SipPeer from '../SipPeer';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst QueueMembers = ({ queueMembers, selectedSip, queueName, queueId, selectSip }) => {\r\n  if (!queueMembers.size) {\r\n    return (\r\n      <Col md=\"12\" className=\"text-center text-muted\">\r\n        No active members\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  return queueMembers.entrySeq().map(([key, sipPeer]) => {\r\n    const isSelected = selectedSip && selectedSip === sipPeer.sip;\r\n\r\n    return (\r\n      <Col key={sipPeer.sip} md=\"4\" className=\"col-sip\">\r\n        <SipPeer\r\n          sipPeer={sipPeer}\r\n          memberOfQueue={queueId}\r\n          selectSip={selectSip}\r\n          isSelected={!!isSelected}\r\n        />\r\n      </Col>\r\n    );\r\n  });\r\n};\r\n\r\nQueueMembers.propTypes = {\r\n  queueMembers: PropTypes.object,\r\n  queueName: PropTypes.string,\r\n  selectSip: PropTypes.func,\r\n  isSelected: PropTypes.string\r\n};\r\n\r\nexport default memo(QueueMembers);\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'recompose';\r\nimport QueueMembers from './QueueMembers';\r\n\r\nimport { getDetailState, getFilteredMembersState } from 'store/selectors/queue';\r\nimport { selectSip } from 'AC/sip';\r\n\r\nimport './queue.css';\r\nimport { getSipSelectedSipState } from '../../store/selectors/sip';\r\n\r\nfunction mapStateToProps(state, { queueId }) {\r\n  const getMembers = getFilteredMembersState();\r\n  const getDetail = getDetailState();\r\n  return {\r\n    queueDetail: getDetail(state, queueId),\r\n    queueMembers: getMembers(state, queueId),\r\n    selectedSip: getSipSelectedSipState(state)\r\n  };\r\n}\r\n\r\nconst enhance = compose(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      selectSip\r\n    }\r\n  )\r\n);\r\n\r\nexport default enhance(QueueMembers);\r\n","import React from 'react';\r\nimport { ButtonGroup, Card, CardBody, Row } from 'reactstrap';\r\n\r\nimport QueueEntryContainer from 'components/QueueEntry/QueueEntryContainer';\r\nimport QueueMembersContainer from 'components/Queue/QueueMembersContainer';\r\n\r\nimport styles from './QueueComponent.module.css';\r\nimport { getFilteredMembersLengthState } from '../../store/selectors/queue';\r\nimport connect from 'react-redux/es/connect/connect';\r\n\r\n// const QueueDetails = ({ queueDetail }) => (\r\n//   <small>\r\n//     <ul>\r\n//       <li>Answered - {queueDetail.completed}</li>\r\n//       <li>Missed - {queueDetail.abandoned}</li>\r\n//     </ul>\r\n//   </small>\r\n// );\r\n\r\nconst QueueComponent = props => {\r\n  const { entity, isEmpty } = props;\r\n\r\n  if (isEmpty) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Card className={'queue'}>\r\n      <CardBody>\r\n        <Row>\r\n          <ButtonGroup className={styles.title}>\r\n            <span className=\"badge badge-info\">Queue - {entity}</span>\r\n          </ButtonGroup>\r\n        </Row>\r\n\r\n        <Row>\r\n          <div className=\"col-md-9\">\r\n            <Row>\r\n              <QueueMembersContainer queueId={entity} />\r\n            </Row>\r\n          </div>\r\n          <div className=\"col-md-3 left-divider\">\r\n            <Row>\r\n              <QueueEntryContainer queueId={entity} />\r\n            </Row>\r\n          </div>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// export default QueueComponent;\r\n\r\nfunction mapStateToProps(state, { entity }) {\r\n  const getMembersLength = getFilteredMembersLengthState();\r\n\r\n  return {\r\n    isEmpty: !getMembersLength(state, entity)\r\n  };\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  {}\r\n)(QueueComponent);\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getQueues } from 'AC/queue';\nimport { loadSipPeers } from 'AC/sip';\nimport { loadChannels } from 'AC/channels';\n\nimport {\n  getQueuesKeysState,\n  getQueuesIsLoadedState,\n  getQueuesIsLoadingState\n} from 'store/selectors/queue';\nimport QueueComponent from '../Queue/QueueComponent';\nimport { getSipIsLoadedState, getSipIsLoadingState } from '../../store/selectors/sip';\nimport SipToolbar from '../SipToolbar';\n\nexport class PanelQueues extends Component {\n  componentDidMount() {\n    const { isLoading, isLoaded, isLoadedSip, isLoadingSip } = this.props;\n\n    if (!isLoaded && !isLoading) {\n      this.props.getQueues();\n    }\n\n    if (!isLoadedSip && !isLoadingSip) {\n      const { loadSipPeers, loadChannels } = this.props;\n\n      loadSipPeers();\n      loadChannels();\n    }\n  }\n\n  render() {\n    const { queues } = this.props;\n\n    const { isLoaded, isLoadedSip } = this.props;\n\n    if (!isLoaded || !isLoadedSip) {\n      return <h1>Loading..</h1>;\n    }\n\n    const queuesComponent = queues.entrySeq().map(([key, item]) => {\n      return <QueueComponent key={key} entity={key} />;\n    });\n\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <SipToolbar isHideFilter={true} />\n\n          <div className=\"col-12\" style={{ marginTop: '10px' }}>\n            {queuesComponent}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    queues: getQueuesKeysState(state),\n    isLoading: getQueuesIsLoadingState(state),\n    isLoaded: getQueuesIsLoadedState(state),\n\n    isLoadingSip: getSipIsLoadingState(state),\n    isLoadedSip: getSipIsLoadedState(state)\n  };\n}\nexport default connect(\n  mapStateToProps,\n  { getQueues, loadSipPeers, loadChannels }\n)(PanelQueues);\n","// import { createImmutableEqualSelector } from './_helper';\r\n\r\nexport const getUserIsLoadedState = state => state.getIn(['user', 'isLoaded']);\r\nexport const getUserIsLoadingState = state => state.getIn(['user', 'isLoading']);\r\nexport const getUserIsErrorState = state => state.getIn(['user', 'isError']);\r\nexport const getUserIsErrorMsgState = state => state.getIn(['user', 'errorMessage']);\r\nexport const getUserErrorFieldState = state => state.getIn(['user', 'errorField']);\r\nexport const getUserShouldRedirectState = state => state.getIn(['user', 'shouldRedirect']);\r\nexport const getUserIsSubmittedState = state => state.getIn(['user', 'submitSuccess']);\r\n\r\nexport const getUsersState = state => state.getIn(['user', 'entities']);\r\n\r\nexport const getUserState = (state, userId) => state.getIn(['user', 'entities', userId]);\r\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { getUsers, deleteUser } from 'AC/user';\nimport { Container, Row, Table, ButtonGroup, Button, NavLink, Card } from 'reactstrap';\nimport { NavLink as RRNavLink } from 'react-router-dom';\nimport {\n  getUserIsLoadedState,\n  getUserIsLoadingState,\n  getUsersState\n} from '../../store/selectors/user';\n\nimport styles from './PanelUsers.module.css';\n\nclass PanelUsers extends Component {\n  static propTypes = {\n    entities: PropTypes.object,\n    isLoading: PropTypes.bool,\n    isLoaded: PropTypes.bool\n  };\n\n  componentDidMount() {\n    const { isLoading, getUsers } = this.props;\n\n    if (!isLoading) {\n      getUsers();\n    }\n  }\n\n  _handleDeleteUser = username => () => {\n    if (window.confirm(`Delete ${username}?`)) {\n      this.props.deleteUser(username);\n    }\n  };\n\n  _renderTableHeader() {\n    return (\n      <thead>\n        <tr>\n          <th>Username</th>\n          <th>SIP</th>\n          <th>Role</th>\n          <th>Full Name</th>\n          <th />\n        </tr>\n      </thead>\n    );\n  }\n  _renderTableItem(user) {\n    if (!user) {\n      return null;\n    }\n\n    return (\n      <tr key={user._id}>\n        <td>\n          <RRNavLink to={`/users/${user.username}`}>{user.username}</RRNavLink>\n        </td>\n        <td>{user.sip}</td>\n        <td>{user.role}</td>\n        <td>\n          {user.firstName} {user.lastName}\n        </td>\n        <td>\n          <ButtonGroup>\n            <Button tag={RRNavLink} to={`/users/${user.username}`} outline color=\"info\">\n              Edit\n            </Button>\n            <Button outline color=\"danger\" onClick={this._handleDeleteUser(user.username)}>\n              Delete\n            </Button>\n          </ButtonGroup>\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    const { entities: users } = this.props;\n\n    const usersComponent = users.entrySeq().map(([key, user]) => this._renderTableItem(user));\n\n    return (\n      <Container>\n        <Row>\n          <Card body={false} className={styles.content}>\n            <NavLink tag={RRNavLink} to=\"/users/register\">\n              <Button outline color=\"primary\">\n                Add User\n              </Button>\n            </NavLink>\n\n            <Table bordered hover striped responsive>\n              {this._renderTableHeader()}\n              <tbody>{usersComponent}</tbody>\n            </Table>\n          </Card>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    entities: getUsersState(state),\n    isLoading: getUserIsLoadingState(state),\n    isLoaded: getUserIsLoadedState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { getUsers, deleteUser }\n)(PanelUsers);\n","import {\n  API_URL,\n  POST_USER,\n  LOAD_USERS,\n  PATCH_USER,\n  DELETE_USER,\n  LOAD_USER\n} from '../helpers/constants';\n\nexport function getUsers() {\n  return {\n    type: LOAD_USERS,\n    callAPI: `${API_URL}/users`,\n    needAuth: true\n  };\n}\n\nexport function getUser(username) {\n  return {\n    type: LOAD_USER,\n    payload: { username },\n    callAPI: `${API_URL}/users/${username}`,\n    needAuth: true\n  };\n}\n\nexport function patchUser({ username, ...params }) {\n  return {\n    type: PATCH_USER,\n    payload: { username, params },\n    callAPI: `${API_URL}/users/${username}`,\n    needAuth: true,\n    methodAPI: 'PATCH',\n    params\n  };\n}\n\nexport function postUser(params) {\n  return {\n    type: POST_USER,\n    payload: { params },\n    callAPI: `${API_URL}/users/register`,\n    needAuth: true,\n    methodAPI: 'POST',\n    params\n  };\n}\n\nexport function deleteUser(username) {\n  return {\n    type: DELETE_USER,\n    payload: { username },\n    callAPI: `${API_URL}/users/${username}`,\n    needAuth: true,\n    methodAPI: 'DELETE'\n  };\n}\n","import React, { PureComponent } from 'react';\n\nimport { connect } from 'react-redux';\nimport { getUser, patchUser, postUser } from 'AC/user';\nimport { NavLink as RRNavLink } from 'react-router-dom';\nimport { Redirect } from 'react-router';\n\nimport PropTypes from 'prop-types';\n\nimport {\n  Container,\n  Button,\n  Form,\n  FormGroup,\n  FormFeedback,\n  Label,\n  Input,\n  Col,\n  Breadcrumb,\n  BreadcrumbItem\n} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  getUserErrorFieldState,\n  getUserIsErrorMsgState,\n  getUserIsErrorState,\n  getUserIsSubmittedState,\n  getUserState\n} from '../../store/selectors/user';\n\nimport { toast } from 'react-toastify';\nimport styles from './User.module.css';\n\nclass User extends PureComponent {\n  static propTypes = {\n    user: PropTypes.object,\n    isSubmitSuccess: PropTypes.bool,\n    isNew: PropTypes.bool,\n    isError: PropTypes.bool,\n    errorMessage: PropTypes.string,\n    errorField: PropTypes.string\n  };\n\n  state = {\n    firstName: '',\n    lastName: '',\n    username: '',\n    role: 'Client',\n    sip: '',\n    _id: '',\n    password: '',\n    isSubmitSuccess: false\n  };\n\n  componentDidMount() {\n    const { match, getUser, user, isNew } = this.props;\n    if (isNew) {\n      return;\n    }\n\n    const username = match.params.id;\n\n    if (!user) {\n      return getUser(username);\n    }\n\n    const { _id, isLoading } = user;\n    if (!_id && !isLoading) {\n      return getUser(username);\n    }\n\n    this.setState({\n      ...user\n    });\n  }\n\n  // componentWillReceiveProps(nextProps) {\n  //   const { getUser, user, match, isNew } = nextProps;\n  //\n  //   if (nextProps.isSubmitSuccess === true && this.props.isSubmitSuccess === false) {\n  //     toast.success('User successful created');\n  //\n  //     this.setState({ isSubmitSuccess: true });\n  //   }\n  //\n  //   if (nextProps.isError === true) {\n  //     toast.error(nextProps.errorMessage);\n  //   }\n  //\n  //   if (isNew) {\n  //     return;\n  //   }\n  //\n  //   const username = match.params.id;\n  //\n  //   if (!user) {\n  //     return getUser(username);\n  //   }\n  //\n  //   const { _id, isLoading } = user;\n  //   if (!_id && !isLoading) {\n  //     return getUser(username);\n  //   }\n  //\n  //   this.setState({\n  //     ...user\n  //   });\n  // }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.user && nextProps.user.username !== prevState.username) {\n      return {\n        firstName: nextProps.user.firstName,\n        lastName: nextProps.user.lastName,\n        username: nextProps.user.username,\n        role: nextProps.user.role,\n        sip: nextProps.user.sip,\n        _id: nextProps.user._id\n      };\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, prevContext) {\n    const { isNew } = this.props;\n    if (this.props.isSubmitSuccess === true && prevProps.isSubmitSuccess === false) {\n      const message = isNew ? 'User successful created' : 'User successful updated';\n\n      toast.success(message);\n\n      this.setState({ isSubmitSuccess: true });\n    }\n\n    if (this.props.isError === true) {\n      toast.error(this.props.errorMessage || 'Error has occurred');\n    }\n  }\n\n  handleChangeInput = ev => {\n    this.setState({\n      [ev.target.name]: ev.target.value\n    });\n  };\n\n  handleSubmitForm = ev => {\n    ev.preventDefault();\n    const { firstName, lastName, sip, role, username, password } = this.state;\n    const { isNew, patchUser, postUser } = this.props;\n\n    const user = {\n      username,\n      firstName,\n      lastName,\n      sip,\n      role,\n      password\n    };\n\n    if (isNew) {\n      return postUser(user);\n    }\n\n    patchUser(user);\n  };\n\n  _renderFormItem({ label, field, type = 'text', isInvalid = false, ...attributes }) {\n    const { errorMessage } = this.props;\n\n    return (\n      <FormGroup row>\n        <Label for={field} md={2} className=\"text-capitalize\">\n          {label || field}\n        </Label>\n        <Col md={10}>\n          <Input\n            {...attributes}\n            type={type}\n            name={field}\n            id={field}\n            value={this.state[field]}\n            invalid={isInvalid}\n            onChange={this.handleChangeInput}\n          />\n          {isInvalid && errorMessage && <FormFeedback>{errorMessage}</FormFeedback>}\n        </Col>\n      </FormGroup>\n    );\n  }\n\n  render() {\n    const { user, isNew, isError, errorMessage, errorField } = this.props;\n\n    if (this.state.isSubmitSuccess) {\n      return <Redirect to={'/users'} />;\n    }\n\n    return (\n      <Container>\n        <Breadcrumb className={styles['bread-crumbs']}>\n          <BreadcrumbItem>\n            <RRNavLink to=\"/users/\">Users</RRNavLink>\n          </BreadcrumbItem>\n          <BreadcrumbItem active>\n            {isNew && 'Create new user'}\n            {!isNew && this.state.username}\n          </BreadcrumbItem>\n        </Breadcrumb>\n\n        <div className={styles.content}>\n          <Form onSubmit={this.handleSubmitForm}>\n            {isNew && (\n              <FormItem\n                value={this.state.username}\n                field=\"username\"\n                isInvalid={isError && errorField === 'username'}\n                errorMessage={errorMessage}\n                handleOnChange={this.handleChangeInput}\n              />\n            )}\n\n            <FormItem\n              type=\"password\"\n              value={this.state.password}\n              field=\"password\"\n              isInvalid={isError && errorField === 'password'}\n              errorMessage={errorMessage}\n              handleOnChange={this.handleChangeInput}\n            />\n\n            <FormItem\n              value={this.state.role}\n              field=\"role\"\n              type=\"select\"\n              isInvalid={isError && errorField === 'role'}\n              errorMessage={errorMessage}\n              handleOnChange={this.handleChangeInput}\n              options={[{ key: 'Admin' }, { key: 'Client' }]}\n            />\n\n            <FormItem\n              value={this.state.firstName}\n              field=\"firstName\"\n              label=\"First Name\"\n              isInvalid={isError && errorField === 'firstName'}\n              errorMessage={errorMessage}\n              handleOnChange={this.handleChangeInput}\n            />\n\n            <FormItem\n              value={this.state.lastName}\n              field=\"lastName\"\n              label=\"Last Name\"\n              isInvalid={isError && errorField === 'lastName'}\n              errorMessage={errorMessage}\n              handleOnChange={this.handleChangeInput}\n            />\n\n            <FormItem\n              value={this.state.sip}\n              field=\"sip\"\n              isInvalid={isError && errorField === 'sip'}\n              errorMessage={errorMessage}\n              handleOnChange={this.handleChangeInput}\n            />\n\n            {isNew && <Button>Create User</Button>}\n\n            {!isNew && (\n              <Button disabled={!user}>\n                Change &nbsp;\n                {(!user || user.isLoading) && <FontAwesomeIcon icon=\"circle-notch\" spin />}\n              </Button>\n            )}\n          </Form>\n        </div>\n      </Container>\n    );\n  }\n}\n\nconst FormItem = ({\n  value,\n  label,\n  field,\n  type = 'text',\n  isInvalid = false,\n  errorMessage,\n  handleOnChange,\n  ...attributes\n}) => {\n  const { options, ...rest } = attributes;\n  let Options = null;\n\n  if (options) {\n    Options = options.map(el => (\n      <option key={el.key} value={el.key}>\n        {el.label || el.key}\n      </option>\n    ));\n  }\n\n  return (\n    <FormGroup row>\n      <Label for={field} md={2} className=\"text-capitalize\">\n        {label || field}\n      </Label>\n      <Col md={10}>\n        <Input\n          {...rest}\n          type={type}\n          name={field}\n          id={field}\n          value={value}\n          invalid={isInvalid}\n          onChange={handleOnChange}\n        >\n          {Options}\n        </Input>\n        {isInvalid && errorMessage && <FormFeedback>{errorMessage}</FormFeedback>}\n      </Col>\n    </FormGroup>\n  );\n};\n\nfunction mapStateToProps(state, { match }) {\n  const username = match.params.id;\n  const isNew = username === 'register';\n\n  return {\n    user: !isNew ? getUserState(state, username) : null,\n    isNew: isNew,\n    isError: getUserIsErrorState(state),\n    errorMessage: getUserIsErrorMsgState(state),\n    errorField: getUserErrorFieldState(state),\n    isSubmitSuccess: getUserIsSubmittedState(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { getUser, patchUser, postUser }\n)(User);\n","import React from 'react';\n\nconst NotFoundPage = () => {\n  return (\n    <div>\n      <h3>Page not found</h3>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\n\nimport Providers from 'helpers/Provider';\nimport PrivateRoute from './routeHandlers/PrivateRoute';\nimport store from 'store';\n\nimport Content from './components/Content';\nimport Login from './components/Login';\nimport Dashboard from './components/Dashboard';\nimport PanelQueues from './components/PanelQueues';\nimport PanelUsers from './components/PanelUsers';\nimport User from './components/User';\n\nimport NotFoundPage from './routeHandlers/NotFoundPage';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'components/App/css/main.css';\n\n// if (process.env.NODE_ENV !== 'production') {\n//   const { whyDidYouUpdate } = require('why-did-you-update');\n  // whyDidYouUpdate(React);\n  // whyDidYouUpdate(React, { exclude: [/Duration Timer$/] });\n  //   whyDidYouUpdate(React, { include: [/^PanelQueues/], exclude: [/^Connect/] });\n  //   whyDidYouUpdate(React, { include: [/^QueueMembers/], exclude: [/^Connect/] });\n  //   whyDidYouUpdate(React, { include: [/^QueueEntryContainer/]});\n  //   whyDidYouUpdate(React, { include: [/^QueueEntries/], exclude: [/^Connect/] });\n// }\n\n// v4\nexport default (\n  <Providers store={store}>\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/login\" component={Login} />\n\n        <Content>\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\n            <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n\n            <PrivateRoute path=\"/queues\" component={PanelQueues} />\n\n            <PrivateRoute exact path=\"/users\" component={PanelUsers} />\n            <PrivateRoute path=\"/users/:id\" component={User} />\n          </Switch>\n        </Content>\n\n        <Route path=\"*\" component={NotFoundPage} />\n      </Switch>\n    </BrowserRouter>\n  </Providers>\n);\n","import { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCircleNotch,\n  faUserSecret,\n  faMicrophone,\n  faPhoneVolume,\n  faPhone\n} from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faCircleNotch);\nlibrary.add(faUserSecret);\nlibrary.add(faMicrophone);\nlibrary.add(faPhoneVolume);\nlibrary.add(faPhone);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport routes from './routes';\nimport 'addFontAwesome';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst rootEl = document.getElementById('root');\nReactDOM.render(routes, rootEl);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.unregister();\n\nif (process.env.NODE_ENV !== 'production' && module.hot) {\n  module.hot.accept();\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SipToolbar_container__2-K22\",\"content\":\"SipToolbar_content__Xtw4s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bread-crumbs\":\"User_bread-crumbs__20ZwB\",\"content\":\"User_content__2BDrO\"};"],"sourceRoot":""}